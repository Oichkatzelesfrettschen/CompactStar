\hypertarget{_vec_saver_8hpp_source}{}\doxysection{Vec\+Saver.\+hpp}
\label{_vec_saver_8hpp_source}\index{dependencies/include/Zaki/File/VecSaver.hpp@{dependencies/include/Zaki/File/VecSaver.hpp}}
\mbox{\hyperlink{_vec_saver_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// -\/*-\/ lsst-\/c++ -\/*-\/}}
\DoxyCodeLine{2 \textcolor{comment}{/*}}
\DoxyCodeLine{3 \textcolor{comment}{* Zaki's Common Library}}
\DoxyCodeLine{4 \textcolor{comment}{* See License file at the top of the source tree.}}
\DoxyCodeLine{5 \textcolor{comment}{*}}
\DoxyCodeLine{6 \textcolor{comment}{* Copyright (c) 2023 Mohammadreza Zakeri}}
\DoxyCodeLine{7 \textcolor{comment}{*}}
\DoxyCodeLine{8 \textcolor{comment}{* Permission is hereby granted, free of charge, to any person obtaining a copy}}
\DoxyCodeLine{9 \textcolor{comment}{* of this software and associated documentation files (the "{}Software"{}), to deal}}
\DoxyCodeLine{10 \textcolor{comment}{* in the Software without restriction, including without limitation the rights}}
\DoxyCodeLine{11 \textcolor{comment}{* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell}}
\DoxyCodeLine{12 \textcolor{comment}{* copies of the Software, and to permit persons to whom the Software is}}
\DoxyCodeLine{13 \textcolor{comment}{* furnished to do so, subject to the following conditions:}}
\DoxyCodeLine{14 \textcolor{comment}{*}}
\DoxyCodeLine{15 \textcolor{comment}{* The above copyright notice and this permission notice shall be included in all}}
\DoxyCodeLine{16 \textcolor{comment}{* copies or substantial portions of the Software.}}
\DoxyCodeLine{17 \textcolor{comment}{*}}
\DoxyCodeLine{18 \textcolor{comment}{* THE SOFTWARE IS PROVIDED "{}AS IS"{}, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR}}
\DoxyCodeLine{19 \textcolor{comment}{* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,}}
\DoxyCodeLine{20 \textcolor{comment}{* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE}}
\DoxyCodeLine{21 \textcolor{comment}{* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER}}
\DoxyCodeLine{22 \textcolor{comment}{* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,}}
\DoxyCodeLine{23 \textcolor{comment}{* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE}}
\DoxyCodeLine{24 \textcolor{comment}{* SOFTWARE.}}
\DoxyCodeLine{25 \textcolor{comment}{*/}}
\DoxyCodeLine{26 }
\DoxyCodeLine{38 \textcolor{preprocessor}{\#ifndef Zaki\_File\_VecSaver\_H}}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#define Zaki\_File\_VecSaver\_H}}
\DoxyCodeLine{40 }
\DoxyCodeLine{41 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{42 \textcolor{preprocessor}{\#include "{}zlib.h"{}}}
\DoxyCodeLine{43 }
\DoxyCodeLine{44 \textcolor{comment}{// Zaki::Util}}
\DoxyCodeLine{45 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_logger_8hpp}{Zaki/Util/Logger.hpp}}"{}}}
\DoxyCodeLine{46 }
\DoxyCodeLine{47 \textcolor{comment}{// Zaki::String}}
\DoxyCodeLine{48 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_directory_8hpp}{Zaki/String/Directory.hpp}}"{}}}
\DoxyCodeLine{49 }
\DoxyCodeLine{50 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{51 \textcolor{keyword}{namespace }Zaki::File}
\DoxyCodeLine{52 \{}
\DoxyCodeLine{53 }
\DoxyCodeLine{54 \textcolor{keyword}{enum class} FileMode}
\DoxyCodeLine{55 \{}
\DoxyCodeLine{56   \textcolor{comment}{//  r  ,  w  , wb         , a     ,  r+       ,  w+        , a+}}
\DoxyCodeLine{57   Read=0, Write, WriteBinary, Append, ReadUpdate, WriteUpdate, AppendUpdate}
\DoxyCodeLine{58 \};}
\DoxyCodeLine{59 }
\DoxyCodeLine{60 \textcolor{comment}{//==============================================================}}
\DoxyCodeLine{69 \textcolor{comment}{}\textcolor{keyword}{class }\mbox{\hyperlink{class_zaki_1_1_file_1_1_vec_saver}{VecSaver}}}
\DoxyCodeLine{70 \{}
\DoxyCodeLine{71   \textcolor{keyword}{private}:}
\DoxyCodeLine{72 }
\DoxyCodeLine{73     \mbox{\hyperlink{class_zaki_1_1_string_1_1_directory}{Zaki::String::Directory}} file\_name\{\textcolor{stringliteral}{"{}out.dat"{}}\} ;}
\DoxyCodeLine{74     FileMode fmode = FileMode::Write;}
\DoxyCodeLine{75     std::string header = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{76     std::string footer = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{77 }
\DoxyCodeLine{78     \textcolor{keywordtype}{bool} set\_head\_flag = false ;}
\DoxyCodeLine{79     \textcolor{keywordtype}{bool} set\_foot\_flag = false ;}
\DoxyCodeLine{80 }
\DoxyCodeLine{81     \textcolor{comment}{// Precision for printing double numbers}}
\DoxyCodeLine{82     \textcolor{keywordtype}{int} double\_precision = 8 ;}
\DoxyCodeLine{83 }
\DoxyCodeLine{84     \textcolor{keyword}{const} \textcolor{keywordtype}{char}* Mode()}
\DoxyCodeLine{85     \{}
\DoxyCodeLine{86       \textcolor{keywordflow}{switch} (fmode)}
\DoxyCodeLine{87       \{}
\DoxyCodeLine{88         \textcolor{keywordflow}{case} FileMode::Read:}
\DoxyCodeLine{89           \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}r+"{}} ;}
\DoxyCodeLine{90           \textcolor{keywordflow}{break};}
\DoxyCodeLine{91           }
\DoxyCodeLine{92         \textcolor{keywordflow}{case} FileMode::Write:}
\DoxyCodeLine{93           \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}w+"{}} ;}
\DoxyCodeLine{94           \textcolor{keywordflow}{break};}
\DoxyCodeLine{95 }
\DoxyCodeLine{96         \textcolor{keywordflow}{case} FileMode::WriteBinary:}
\DoxyCodeLine{97           \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}wb"{}} ;}
\DoxyCodeLine{98           \textcolor{keywordflow}{break};}
\DoxyCodeLine{99 }
\DoxyCodeLine{100         \textcolor{keywordflow}{case} FileMode::Append:}
\DoxyCodeLine{101           \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}a+"{}} ;}
\DoxyCodeLine{102           \textcolor{keywordflow}{break};}
\DoxyCodeLine{103 }
\DoxyCodeLine{104         \textcolor{keywordflow}{case} FileMode::ReadUpdate:}
\DoxyCodeLine{105           \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}r+"{}} ;}
\DoxyCodeLine{106           \textcolor{keywordflow}{break};}
\DoxyCodeLine{107           }
\DoxyCodeLine{108         \textcolor{keywordflow}{case} FileMode::WriteUpdate:}
\DoxyCodeLine{109           \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}w+"{}} ;}
\DoxyCodeLine{110           \textcolor{keywordflow}{break};}
\DoxyCodeLine{111         }
\DoxyCodeLine{112         \textcolor{keywordflow}{case} FileMode::AppendUpdate:}
\DoxyCodeLine{113           \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}a+"{}} ;}
\DoxyCodeLine{114           \textcolor{keywordflow}{break};}
\DoxyCodeLine{115 }
\DoxyCodeLine{116         \textcolor{keywordflow}{default}:}
\DoxyCodeLine{117           \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{118           \textcolor{keywordflow}{break};}
\DoxyCodeLine{119       \}}
\DoxyCodeLine{120     \}}
\DoxyCodeLine{121 }
\DoxyCodeLine{122   \textcolor{keyword}{public}:}
\DoxyCodeLine{123 }
\DoxyCodeLine{124     \textcolor{comment}{// Constructor 1}}
\DoxyCodeLine{125     \textcolor{comment}{// VecSaver();}}
\DoxyCodeLine{126 }
\DoxyCodeLine{127     \textcolor{comment}{// Constructor 2}}
\DoxyCodeLine{128     \mbox{\hyperlink{class_zaki_1_1_file_1_1_vec_saver}{VecSaver}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_zaki_1_1_string_1_1_directory}{Zaki::String::Directory}}\& in\_fname) }
\DoxyCodeLine{129       : file\_name(in\_fname) \{\}}
\DoxyCodeLine{130 }
\DoxyCodeLine{131     \textcolor{comment}{// Constructor 3}}
\DoxyCodeLine{132     \mbox{\hyperlink{class_zaki_1_1_file_1_1_vec_saver}{VecSaver}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_zaki_1_1_string_1_1_directory}{Zaki::String::Directory}}\& in\_fname, \textcolor{keyword}{const} FileMode\& in\_mode)}
\DoxyCodeLine{133       : file\_name(in\_fname), fmode(in\_mode) \{\}}
\DoxyCodeLine{134 }
\DoxyCodeLine{135     \textcolor{comment}{//..............}}
\DoxyCodeLine{136     \textcolor{comment}{// Setters }}
\DoxyCodeLine{137     \textcolor{comment}{//..............}}
\DoxyCodeLine{138     \mbox{\hyperlink{class_zaki_1_1_file_1_1_vec_saver}{VecSaver}}\& SetFileName(\textcolor{keyword}{const} \mbox{\hyperlink{class_zaki_1_1_string_1_1_directory}{Zaki::String::Directory}}\& in\_fname)}
\DoxyCodeLine{139     \{}
\DoxyCodeLine{140       file\_name = in\_fname ;}
\DoxyCodeLine{141       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{142     \}}
\DoxyCodeLine{143     \textcolor{comment}{//..............}}
\DoxyCodeLine{144     \mbox{\hyperlink{class_zaki_1_1_file_1_1_vec_saver}{VecSaver}}\& SetMode(\textcolor{keyword}{const} FileMode\& in\_mode)}
\DoxyCodeLine{145     \{}
\DoxyCodeLine{146       fmode = in\_mode ;}
\DoxyCodeLine{147       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{148     \}}
\DoxyCodeLine{149     \textcolor{comment}{//..............}}
\DoxyCodeLine{150     \mbox{\hyperlink{class_zaki_1_1_file_1_1_vec_saver}{VecSaver}}\& SetHeader(\textcolor{keyword}{const} std::string\& in\_head)}
\DoxyCodeLine{151     \{}
\DoxyCodeLine{152       header = in\_head ;}
\DoxyCodeLine{153       set\_head\_flag = true ;}
\DoxyCodeLine{154 }
\DoxyCodeLine{155       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{156     \}}
\DoxyCodeLine{157     \textcolor{comment}{//..............}}
\DoxyCodeLine{158     \textcolor{comment}{// VecSaver\& SetHeader(const char* in\_head = nullptr)}}
\DoxyCodeLine{159     \textcolor{comment}{// \{}}
\DoxyCodeLine{160     \textcolor{comment}{//   if(in\_head)}}
\DoxyCodeLine{161     \textcolor{comment}{//   \{  header = in\_head ;}}
\DoxyCodeLine{162     \textcolor{comment}{//     set\_head\_flag = true ;}}
\DoxyCodeLine{163     \textcolor{comment}{//   \}}}
\DoxyCodeLine{164     \textcolor{comment}{//   return *this;}}
\DoxyCodeLine{165     \textcolor{comment}{// \}}}
\DoxyCodeLine{166     \textcolor{comment}{//..............}}
\DoxyCodeLine{167     \mbox{\hyperlink{class_zaki_1_1_file_1_1_vec_saver}{VecSaver}}\& SetFooter(\textcolor{keyword}{const} std::string\& in\_foot)}
\DoxyCodeLine{168     \{}
\DoxyCodeLine{169       footer = in\_foot ;}
\DoxyCodeLine{170       set\_foot\_flag = true ;}
\DoxyCodeLine{171 }
\DoxyCodeLine{172       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{173     \}}
\DoxyCodeLine{174     \textcolor{comment}{//..............}}
\DoxyCodeLine{175     \textcolor{comment}{// VecSaver\& SetFooter(const char* in\_foot = nullptr)}}
\DoxyCodeLine{176     \textcolor{comment}{// \{}}
\DoxyCodeLine{177     \textcolor{comment}{//   if(in\_foot)}}
\DoxyCodeLine{178     \textcolor{comment}{//   \{}}
\DoxyCodeLine{179     \textcolor{comment}{//     footer = in\_foot ;}}
\DoxyCodeLine{180     \textcolor{comment}{//     set\_foot\_flag = true ;}}
\DoxyCodeLine{181     \textcolor{comment}{//   \}}}
\DoxyCodeLine{182 }
\DoxyCodeLine{183     \textcolor{comment}{//   return *this;}}
\DoxyCodeLine{184     \textcolor{comment}{// \}}}
\DoxyCodeLine{185     \textcolor{comment}{//..............}}
\DoxyCodeLine{186 }
\DoxyCodeLine{187     \textcolor{keywordtype}{void} SetPrecision(\textcolor{keyword}{const} \textcolor{keywordtype}{int}\& digits)}
\DoxyCodeLine{188     \{}
\DoxyCodeLine{189       double\_precision = digits ;}
\DoxyCodeLine{190     \}}
\DoxyCodeLine{191 }
\DoxyCodeLine{192     \textcolor{comment}{// Exporting 1D vectors}}
\DoxyCodeLine{193     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keywordtype}{void} Export1D(\textcolor{keyword}{const} std::vector<T>\&) ;}
\DoxyCodeLine{194 }
\DoxyCodeLine{195     \textcolor{comment}{// Exporting 2D vectors}}
\DoxyCodeLine{196     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keywordtype}{void} Export2D(\textcolor{keyword}{const} std::vector<std::vector<T>>\&,}
\DoxyCodeLine{197                                         \textcolor{keyword}{const} \textcolor{keywordtype}{char}* delim=\textcolor{stringliteral}{"{},"{}}) ; }
\DoxyCodeLine{198 \};}
\DoxyCodeLine{199 }
\DoxyCodeLine{200 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{201 \textcolor{comment}{// Exporting 1D vectors}}
\DoxyCodeLine{202 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> }
\DoxyCodeLine{203 \textcolor{keywordtype}{void} VecSaver::Export1D(\textcolor{keyword}{const} std::vector<T>\& list)}
\DoxyCodeLine{204 \{}
\DoxyCodeLine{205   \textcolor{keywordflow}{if} (list.size() ==0 ) return ;}
\DoxyCodeLine{206 }
\DoxyCodeLine{207   \textcolor{comment}{// Added on [Apr 20, 2023]}}
\DoxyCodeLine{208   file\_name.\mbox{\hyperlink{class_zaki_1_1_string_1_1_directory_a2cb3edad92cc57f264b5820de0346cca}{ThisFileDir}}().\mbox{\hyperlink{class_zaki_1_1_string_1_1_directory_aa2b0cc30ba8ad3d2abc506ec69f668b0}{Create}}() ;}
\DoxyCodeLine{209 }
\DoxyCodeLine{210   std::FILE * out\_file ;}
\DoxyCodeLine{211   out\_file = fopen(file\_name.Str().c\_str(), Mode()) ;}
\DoxyCodeLine{212 }
\DoxyCodeLine{213   \textcolor{keywordflow}{if} (!out\_file) }
\DoxyCodeLine{214   \{ }
\DoxyCodeLine{215     Z\_LOG\_ERROR((\textcolor{stringliteral}{"{}File: '"{}} + file\_name.Str() + \textcolor{stringliteral}{"{}' didn't open!"{}} + \textcolor{stringliteral}{"{}\(\backslash\)n"{}}).c\_str()) ;}
\DoxyCodeLine{216     return ;}
\DoxyCodeLine{217   \}}
\DoxyCodeLine{218 }
\DoxyCodeLine{219   std::string new\_line = \textcolor{stringliteral}{"{}\(\backslash\)n"{}} ;}
\DoxyCodeLine{220 }
\DoxyCodeLine{221   \textcolor{comment}{// Binary mode }}
\DoxyCodeLine{222   \textcolor{keywordflow}{if}( fmode == FileMode::WriteBinary)}
\DoxyCodeLine{223   \{}
\DoxyCodeLine{224     std::string out\_string ;}
\DoxyCodeLine{225 }
\DoxyCodeLine{226     \textcolor{comment}{//.................................................}}
\DoxyCodeLine{227     \textcolor{comment}{// Preparing the string output}}
\DoxyCodeLine{228     \textcolor{comment}{//.................................................}}
\DoxyCodeLine{229     \textcolor{comment}{// Header}}
\DoxyCodeLine{230     \textcolor{keywordflow}{if}(set\_head\_flag) out\_string += header + \textcolor{stringliteral}{"{}\(\backslash\)n"{}} ;}
\DoxyCodeLine{231 }
\DoxyCodeLine{232     \textcolor{keywordtype}{char} tmp\_char[1000] ;}
\DoxyCodeLine{233     \textcolor{comment}{// Body}}
\DoxyCodeLine{234     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t} i=0 ; i < list.size() ; ++i)}
\DoxyCodeLine{235     \{ }
\DoxyCodeLine{236       \textcolor{comment}{// Avoid adding newline "{}\(\backslash\)n"{} to the last line}}
\DoxyCodeLine{237       \textcolor{keywordflow}{if} (i == list.size()-\/1)}
\DoxyCodeLine{238       \{}
\DoxyCodeLine{239         new\_line = \textcolor{stringliteral}{"{}"{}} ;}
\DoxyCodeLine{240       \}}
\DoxyCodeLine{241       }
\DoxyCodeLine{242       \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr}(std::is\_floating\_point\_v<T>)}
\DoxyCodeLine{243         snprintf(tmp\_char, \textcolor{keyword}{sizeof}(tmp\_char), (\textcolor{stringliteral}{"{}\%.*e"{}}+new\_line).c\_str(), double\_precision, list[i]) ;}
\DoxyCodeLine{244       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr}(std::is\_same\_v<T, int> || std::is\_same\_v<T, const int>)}
\DoxyCodeLine{245         snprintf(tmp\_char, \textcolor{keyword}{sizeof}(tmp\_char), (\textcolor{stringliteral}{"{}\%d"{}}+new\_line).c\_str(), list[i]) ;}
\DoxyCodeLine{246       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr}(std::is\_same\_v<T, std::string> || std::is\_same\_v<T, const std::string>)}
\DoxyCodeLine{247         snprintf(tmp\_char, \textcolor{keyword}{sizeof}(tmp\_char), (\textcolor{stringliteral}{"{}\%s"{}}+new\_line).c\_str(), list[i].c\_str()) ;}
\DoxyCodeLine{248       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr}(std::is\_member\_function\_pointer<\textcolor{keyword}{decltype}(\&T::Str)>::value)}
\DoxyCodeLine{249         snprintf(tmp\_char, \textcolor{keyword}{sizeof}(tmp\_char), (\textcolor{stringliteral}{"{}\%s"{}}+new\_line).c\_str(), list[i].Str().c\_str()) ;}
\DoxyCodeLine{250       \textcolor{keywordflow}{else} }
\DoxyCodeLine{251       \{}
\DoxyCodeLine{252         Z\_LOG\_ERROR(\textcolor{stringliteral}{"{}Export failed: No 'Str()' method found."{}});}
\DoxyCodeLine{253         break ;}
\DoxyCodeLine{254       \}}
\DoxyCodeLine{255       out\_string += tmp\_char ;}
\DoxyCodeLine{256     \}}
\DoxyCodeLine{257 }
\DoxyCodeLine{258     \textcolor{comment}{// Footer}}
\DoxyCodeLine{259     \textcolor{keywordflow}{if}(set\_foot\_flag) out\_string += \textcolor{stringliteral}{"{}\(\backslash\)n"{}} + footer ;}
\DoxyCodeLine{260     \textcolor{comment}{//.................................................}}
\DoxyCodeLine{261 }
\DoxyCodeLine{262     \textcolor{comment}{//.................................................}}
\DoxyCodeLine{263     \textcolor{comment}{//    Compressing the string output}}
\DoxyCodeLine{264     \textcolor{comment}{//.................................................}}
\DoxyCodeLine{265     \textcolor{keyword}{const} Byte* source = (Byte*)out\_string.c\_str()  ;}
\DoxyCodeLine{266     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} sizeDataOriginal = out\_string.size() ;}
\DoxyCodeLine{267 }
\DoxyCodeLine{268     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} sizeDataCompressed  = (sizeDataOriginal * 1.1) + 12 ;}
\DoxyCodeLine{269     Byte* dataCompressed = (Byte*)malloc( sizeDataCompressed );}
\DoxyCodeLine{270     \textcolor{comment}{// int zlib\_status = }}
\DoxyCodeLine{271     compress(dataCompressed, \&sizeDataCompressed, }
\DoxyCodeLine{272                                 source, sizeDataOriginal) ;}
\DoxyCodeLine{273 }
\DoxyCodeLine{274     \textcolor{comment}{//.................................................}}
\DoxyCodeLine{275 }
\DoxyCodeLine{276     \textcolor{comment}{//.................................................}}
\DoxyCodeLine{277     \textcolor{comment}{//    Saving the binary compressed data}}
\DoxyCodeLine{278     \textcolor{comment}{//.................................................}}
\DoxyCodeLine{279     fwrite( dataCompressed, sizeDataCompressed, 1, out\_file );}
\DoxyCodeLine{280     \textcolor{comment}{//.................................................}}
\DoxyCodeLine{281     \textcolor{comment}{// Memory leak resolved on May 6, 2022:}}
\DoxyCodeLine{282     free(dataCompressed) ;}
\DoxyCodeLine{283   \}}
\DoxyCodeLine{284   \textcolor{keywordflow}{else}}
\DoxyCodeLine{285   \{}
\DoxyCodeLine{286     \textcolor{comment}{// Header}}
\DoxyCodeLine{287     \textcolor{keywordflow}{if}(set\_head\_flag) fprintf(out\_file, \textcolor{stringliteral}{"{}\%s\(\backslash\)n"{}}, header.c\_str()) ;}
\DoxyCodeLine{288 }
\DoxyCodeLine{289     \textcolor{comment}{// Body}}
\DoxyCodeLine{290     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t} i=0 ; i < list.size() ; ++i)}
\DoxyCodeLine{291     \{ }
\DoxyCodeLine{292       \textcolor{comment}{// Avoid adding newline "{}\(\backslash\)n"{} to the last line}}
\DoxyCodeLine{293       \textcolor{keywordflow}{if} (i == list.size()-\/1)}
\DoxyCodeLine{294       \{}
\DoxyCodeLine{295         new\_line = \textcolor{stringliteral}{"{}"{}} ;}
\DoxyCodeLine{296       \}}
\DoxyCodeLine{297       }
\DoxyCodeLine{298       \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr}(std::is\_floating\_point\_v<T>)}
\DoxyCodeLine{299           fprintf(out\_file, (\textcolor{stringliteral}{"{}\%.*e"{}}+new\_line).c\_str(), double\_precision, list[i]) ;}
\DoxyCodeLine{300       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr}(std::is\_same\_v<T, int> || std::is\_same\_v<T, const int>)}
\DoxyCodeLine{301           fprintf(out\_file, (\textcolor{stringliteral}{"{}\%d"{}}+new\_line).c\_str(), list[i]) ;}
\DoxyCodeLine{302       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr}(std::is\_same\_v<T, std::string> || std::is\_same\_v<T, const std::string>)}
\DoxyCodeLine{303           fprintf(out\_file, (\textcolor{stringliteral}{"{}\%s"{}}+new\_line).c\_str(), list[i].c\_str()) ;}
\DoxyCodeLine{304       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr}(std::is\_member\_function\_pointer<\textcolor{keyword}{decltype}(\&T::Str)>::value)}
\DoxyCodeLine{305           fprintf(out\_file, (\textcolor{stringliteral}{"{}\%s"{}}+new\_line).c\_str(), list[i].Str().c\_str()) ;}
\DoxyCodeLine{306       \textcolor{keywordflow}{else} }
\DoxyCodeLine{307         Z\_LOG\_ERROR(\textcolor{stringliteral}{"{}Export failed: No 'Str()' method found."{}});}
\DoxyCodeLine{308     \}}
\DoxyCodeLine{309 }
\DoxyCodeLine{310     \textcolor{comment}{// Footer}}
\DoxyCodeLine{311     \textcolor{keywordflow}{if}(set\_foot\_flag) fprintf(out\_file, \textcolor{stringliteral}{"{}\(\backslash\)n\%s"{}}, footer.c\_str()) ;}
\DoxyCodeLine{312   \}}
\DoxyCodeLine{313   fclose(out\_file) ;}
\DoxyCodeLine{314 \}}
\DoxyCodeLine{315 }
\DoxyCodeLine{316 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{317 \textcolor{comment}{// Exporting 2D vectors}}
\DoxyCodeLine{318 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> }
\DoxyCodeLine{319 \textcolor{keywordtype}{void} VecSaver::Export2D(\textcolor{keyword}{const} std::vector<std::vector<T>>\& list, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* delim)}
\DoxyCodeLine{320 \{}
\DoxyCodeLine{321   \textcolor{keywordflow}{if} (list.size() ==0 ) return ;}
\DoxyCodeLine{322 }
\DoxyCodeLine{323   \textcolor{comment}{// Added on [Apr 20, 2023]}}
\DoxyCodeLine{324   file\_name.\mbox{\hyperlink{class_zaki_1_1_string_1_1_directory_a2cb3edad92cc57f264b5820de0346cca}{ThisFileDir}}().\mbox{\hyperlink{class_zaki_1_1_string_1_1_directory_aa2b0cc30ba8ad3d2abc506ec69f668b0}{Create}}() ;}
\DoxyCodeLine{325   }
\DoxyCodeLine{326   std::FILE * out\_file ;}
\DoxyCodeLine{327   out\_file = fopen(file\_name.Str().c\_str(),  Mode()) ;}
\DoxyCodeLine{328 }
\DoxyCodeLine{329   \textcolor{keywordflow}{if} (!out\_file) }
\DoxyCodeLine{330   \{ }
\DoxyCodeLine{331     Z\_LOG\_ERROR((\textcolor{stringliteral}{"{}File: '"{}} + file\_name.Str() + \textcolor{stringliteral}{"{}' didn't open!"{}} + \textcolor{stringliteral}{"{}\(\backslash\)n"{}}).c\_str()) ;}
\DoxyCodeLine{332     return ;}
\DoxyCodeLine{333   \}}
\DoxyCodeLine{334   }
\DoxyCodeLine{335   \textcolor{comment}{// Header}}
\DoxyCodeLine{336   \textcolor{keywordflow}{if}(set\_head\_flag) fprintf(out\_file, \textcolor{stringliteral}{"{}\%s\(\backslash\)n"{}}, header.c\_str()) ;}
\DoxyCodeLine{337 }
\DoxyCodeLine{338   std::string new\_line = \textcolor{stringliteral}{"{}\(\backslash\)n"{}} ;}
\DoxyCodeLine{339   \textcolor{comment}{// Body}}
\DoxyCodeLine{340   \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t} i=0; i < list.size(); ++i)}
\DoxyCodeLine{341   \{ }
\DoxyCodeLine{342     \textcolor{comment}{// Avoid adding newline "{}\(\backslash\)n"{} to the last line}}
\DoxyCodeLine{343     \textcolor{keywordflow}{if} (i == list.size()-\/1)}
\DoxyCodeLine{344     \{}
\DoxyCodeLine{345       new\_line = \textcolor{stringliteral}{"{}"{}} ;}
\DoxyCodeLine{346     \}}
\DoxyCodeLine{347       }
\DoxyCodeLine{348     \textcolor{comment}{// We want delimiter after all elements except the}}
\DoxyCodeLine{349     \textcolor{comment}{//  last element of each line:}}
\DoxyCodeLine{350     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t} j=0; j < list[i].size()-\/1; ++j)}
\DoxyCodeLine{351     \{}
\DoxyCodeLine{352       \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr}(std::is\_floating\_point\_v<T>)}
\DoxyCodeLine{353           fprintf(out\_file, \textcolor{stringliteral}{"{}\%.*e\%s"{}}, double\_precision, list[i][j], delim) ;}
\DoxyCodeLine{354       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr}(std::is\_same\_v<T, int> || std::is\_same\_v<T, const int>)}
\DoxyCodeLine{355           fprintf(out\_file, \textcolor{stringliteral}{"{}\%d\%s"{}}, list[i][j], delim) ;}
\DoxyCodeLine{356       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr}(std::is\_same\_v<T, std::string> || std::is\_same\_v<T, const std::string>)}
\DoxyCodeLine{357           fprintf(out\_file, \textcolor{stringliteral}{"{}\%s\%s"{}}, list[i][j].c\_str(), delim) ;}
\DoxyCodeLine{358       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr}(std::is\_member\_function\_pointer<\textcolor{keyword}{decltype}(\&T::Str)>::value)}
\DoxyCodeLine{359           fprintf(out\_file, \textcolor{stringliteral}{"{}\%s\%s"{}}, list[i][j].Str().c\_str(), delim) ;}
\DoxyCodeLine{360       \textcolor{keywordflow}{else} }
\DoxyCodeLine{361         Z\_LOG\_ERROR(\textcolor{stringliteral}{"{}Export failed: No 'Str()' method found."{}});}
\DoxyCodeLine{362     \}}
\DoxyCodeLine{363 }
\DoxyCodeLine{364     \textcolor{comment}{// Last element}}
\DoxyCodeLine{365     \textcolor{keywordtype}{size\_t} j = list[i].size()-\/1 ;}
\DoxyCodeLine{366     \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr}(std::is\_floating\_point\_v<T>)}
\DoxyCodeLine{367         fprintf(out\_file, \textcolor{stringliteral}{"{}\%.*e"{}}, double\_precision, list[i][j]) ;}
\DoxyCodeLine{368     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr}(std::is\_same\_v<T, int> || std::is\_same\_v<T, const int>)}
\DoxyCodeLine{369         fprintf(out\_file, \textcolor{stringliteral}{"{}\%d"{}}, list[i][j]) ;}
\DoxyCodeLine{370     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr}(std::is\_same\_v<T, std::string> || std::is\_same\_v<T, const std::string>)}
\DoxyCodeLine{371         fprintf(out\_file, \textcolor{stringliteral}{"{}\%s"{}}, list[i][j].c\_str()) ;}
\DoxyCodeLine{372     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr}(std::is\_member\_function\_pointer<\textcolor{keyword}{decltype}(\&T::Str)>::value)}
\DoxyCodeLine{373         fprintf(out\_file, \textcolor{stringliteral}{"{}\%s"{}}, list[i][j].Str().c\_str()) ;}
\DoxyCodeLine{374     \textcolor{keywordflow}{else}}
\DoxyCodeLine{375       Z\_LOG\_ERROR(\textcolor{stringliteral}{"{}Export failed: No 'Str()' method found."{}});}
\DoxyCodeLine{376 }
\DoxyCodeLine{377     fprintf(out\_file, new\_line.c\_str());}
\DoxyCodeLine{378   \}}
\DoxyCodeLine{379 }
\DoxyCodeLine{380   \textcolor{comment}{// Footer}}
\DoxyCodeLine{381   \textcolor{keywordflow}{if}(set\_foot\_flag) fprintf(out\_file, \textcolor{stringliteral}{"{}\(\backslash\)n\%s"{}}, footer.c\_str()) ;}
\DoxyCodeLine{382 }
\DoxyCodeLine{383   fclose(out\_file) ;}
\DoxyCodeLine{384 \}}
\DoxyCodeLine{385 }
\DoxyCodeLine{386 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{387 }
\DoxyCodeLine{388 \textcolor{comment}{//==============================================================}}
\DoxyCodeLine{389 \textcolor{comment}{// Records the input quantity (int, float or double) and saves }}
\DoxyCodeLine{390 \textcolor{comment}{// it in a text file.}}
\DoxyCodeLine{391 \textcolor{comment}{// template <class T> }}
\DoxyCodeLine{392 \textcolor{comment}{// void SaveVec(const std::vector<T>\& list, }}
\DoxyCodeLine{393 \textcolor{comment}{//                       const std::string\& out\_file\_str, const char* mode = "{}w"{})}}
\DoxyCodeLine{394 \textcolor{comment}{// \{}}
\DoxyCodeLine{395 \textcolor{comment}{//     if (list.size() ==0 ) return ;}}
\DoxyCodeLine{396 }
\DoxyCodeLine{397 \textcolor{comment}{//     std::FILE * out\_file ;}}
\DoxyCodeLine{398 \textcolor{comment}{//     out\_file = fopen((out\_file\_str + "{}.dat"{}).c\_str(), mode) ;}}
\DoxyCodeLine{399 }
\DoxyCodeLine{400 \textcolor{comment}{//     if (!out\_file) }}
\DoxyCodeLine{401 \textcolor{comment}{//     \{ }}
\DoxyCodeLine{402 \textcolor{comment}{//     Z\_LOG\_ERROR(("{}File: '"{} + out\_file\_str + "{}.dat' didn't open!"{} + "{}\(\backslash\)n"{}).c\_str()) ;}}
\DoxyCodeLine{403 \textcolor{comment}{//     \}}}
\DoxyCodeLine{404 }
\DoxyCodeLine{405 \textcolor{comment}{//     std::string tmp = "{}"{};}}
\DoxyCodeLine{406 }
\DoxyCodeLine{407 \textcolor{comment}{//     for(size\_t i=0 ; i < list.size() ; ++i)}}
\DoxyCodeLine{408 \textcolor{comment}{//     \{ }}
\DoxyCodeLine{409 \textcolor{comment}{//         if constexpr(std::is\_floating\_point<T>)}}
\DoxyCodeLine{410 \textcolor{comment}{//             fprintf(out\_file, "{}\%.4e\(\backslash\)n"{}, list[i]) ;}}
\DoxyCodeLine{411 \textcolor{comment}{//         else if constexpr(std::is\_same\_v<T, int>)}}
\DoxyCodeLine{412 \textcolor{comment}{//             fprintf(out\_file, "{}\%d\(\backslash\)n"{}, list[i]) ;}}
\DoxyCodeLine{413 \textcolor{comment}{//         else if constexpr(std::is\_same\_v<T, std::string>)}}
\DoxyCodeLine{414 \textcolor{comment}{//             fprintf(out\_file, "{}\%s\(\backslash\)n"{}, list[i].c\_str()) ;}}
\DoxyCodeLine{415 \textcolor{comment}{//         else}}
\DoxyCodeLine{416 \textcolor{comment}{//             fprintf(out\_file, "{}\%s\(\backslash\)n"{}, list[i].Str().c\_str()) ;}}
\DoxyCodeLine{417 \textcolor{comment}{//     \}}}
\DoxyCodeLine{418 }
\DoxyCodeLine{419 \textcolor{comment}{//   fclose(out\_file) ;}}
\DoxyCodeLine{420 \textcolor{comment}{// \}}}
\DoxyCodeLine{421 }
\DoxyCodeLine{422 \textcolor{comment}{//==============================================================}}
\DoxyCodeLine{423 \textcolor{comment}{// template <class T> }}
\DoxyCodeLine{424 \textcolor{comment}{// void SaveVec}}
\DoxyCodeLine{425 \textcolor{comment}{// ( const std::vector<std::vector<T>>\& list, const std::string\& out\_file\_str,}}
\DoxyCodeLine{426 \textcolor{comment}{//   const std::string\& delim, const char* mode= "{}w"{})}}
\DoxyCodeLine{427 \textcolor{comment}{// \{}}
\DoxyCodeLine{428 \textcolor{comment}{//   if (list.size() ==0 ) return ;}}
\DoxyCodeLine{429 }
\DoxyCodeLine{430 \textcolor{comment}{//   std::FILE * out\_file ;}}
\DoxyCodeLine{431 \textcolor{comment}{//   out\_file = fopen(out\_file\_str.c\_str(), mode) ;}}
\DoxyCodeLine{432 }
\DoxyCodeLine{433 \textcolor{comment}{//   for(size\_t i=0; i < list.size(); ++i)}}
\DoxyCodeLine{434 \textcolor{comment}{//   \{ }}
\DoxyCodeLine{435 \textcolor{comment}{//     for(size\_t j=0; j < list[i].size(); ++j)}}
\DoxyCodeLine{436 \textcolor{comment}{//     \{}}
\DoxyCodeLine{437 \textcolor{comment}{//       // If we want CSV file, and not the last element of the line}}
\DoxyCodeLine{438 \textcolor{comment}{//       if(j != list[i].size()-\/1 )}}
\DoxyCodeLine{439 \textcolor{comment}{//       \{}}
\DoxyCodeLine{440 \textcolor{comment}{//         if constexpr(std::is\_floating\_point<T>)}}
\DoxyCodeLine{441 \textcolor{comment}{//             fprintf(out\_file, "{}\%.4e\%s"{}, list[i][j], delim.c\_str()) ;}}
\DoxyCodeLine{442 \textcolor{comment}{//         else if constexpr(std::is\_same\_v<T, int>)}}
\DoxyCodeLine{443 \textcolor{comment}{//             fprintf(out\_file, "{}\%d\%s"{}, list[i][j], delim.c\_str()) ;}}
\DoxyCodeLine{444 \textcolor{comment}{//         else if constexpr(std::is\_same\_v<T, std::string>)}}
\DoxyCodeLine{445 \textcolor{comment}{//             fprintf(out\_file, "{}\%s\%s"{}, list[i][j].c\_str(), delim.c\_str()) ;}}
\DoxyCodeLine{446 \textcolor{comment}{//         else}}
\DoxyCodeLine{447 \textcolor{comment}{//             fprintf(out\_file, "{}\%s\%s"{}, list[i][j].Str().c\_str(), delim.c\_str()) ;}}
\DoxyCodeLine{448 \textcolor{comment}{//       \}}}
\DoxyCodeLine{449 \textcolor{comment}{//         // fprintf(out\_file,"{}\%.4e\%s"{}, list[i][j], delim.c\_str() ) ; }}
\DoxyCodeLine{450 \textcolor{comment}{//       else}}
\DoxyCodeLine{451 \textcolor{comment}{//       \{}}
\DoxyCodeLine{452 \textcolor{comment}{//         if constexpr(std::is\_floating\_point<T>)}}
\DoxyCodeLine{453 \textcolor{comment}{//             fprintf(out\_file, "{}\%.4e"{}, list[i][j]) ;}}
\DoxyCodeLine{454 \textcolor{comment}{//         else if constexpr(std::is\_same\_v<T, int>)}}
\DoxyCodeLine{455 \textcolor{comment}{//             fprintf(out\_file, "{}\%d"{}, list[i][j]) ;}}
\DoxyCodeLine{456 \textcolor{comment}{//         else if constexpr(std::is\_same\_v<T, std::string>)}}
\DoxyCodeLine{457 \textcolor{comment}{//             fprintf(out\_file, "{}\%s"{}, list[i][j].c\_str()) ;}}
\DoxyCodeLine{458 \textcolor{comment}{//         else}}
\DoxyCodeLine{459 \textcolor{comment}{//             fprintf(out\_file, "{}\%s"{}, list[i][j].Str().c\_str()) ;}}
\DoxyCodeLine{460 \textcolor{comment}{//       \}}}
\DoxyCodeLine{461 \textcolor{comment}{//         // fprintf(out\_file,"{}\%.4e"{}, list[i][j]) ; }}
\DoxyCodeLine{462 \textcolor{comment}{//     \}}}
\DoxyCodeLine{463 \textcolor{comment}{//     fprintf(out\_file,"{}\(\backslash\)n"{});}}
\DoxyCodeLine{464 \textcolor{comment}{//   \}}}
\DoxyCodeLine{465 }
\DoxyCodeLine{466 \textcolor{comment}{//   fclose(out\_file) ;}}
\DoxyCodeLine{467 \textcolor{comment}{// \}}}
\DoxyCodeLine{468 }
\DoxyCodeLine{469 \textcolor{comment}{//==============================================================}}
\DoxyCodeLine{470 }
\DoxyCodeLine{471 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{472 \} \textcolor{comment}{// End of namespace Zaki::File}}
\DoxyCodeLine{473 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{474 }
\DoxyCodeLine{475 \textcolor{comment}{//==============================================================}}
\DoxyCodeLine{476 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/*Zaki\_File\_VecSaver\_H*/}\textcolor{preprocessor}{}}

\end{DoxyCode}
