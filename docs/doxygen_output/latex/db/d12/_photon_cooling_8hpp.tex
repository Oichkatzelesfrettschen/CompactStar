\hypertarget{_photon_cooling_8hpp}{}\doxysection{Compact\+Star/\+Physics/\+Driver/\+Thermal/\+Photon\+Cooling.hpp File Reference}
\label{_photon_cooling_8hpp}\index{CompactStar/Physics/Driver/Thermal/PhotonCooling.hpp@{CompactStar/Physics/Driver/Thermal/PhotonCooling.hpp}}


Photon (surface) cooling driver for the thermal evolution subsystem.  


{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include \char`\"{}Compact\+Star/\+Physics/\+Driver/\+Diagnostics/\+Driver\+Diagnostics.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Compact\+Star/\+Physics/\+Driver/\+IDriver.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Compact\+Star/\+Physics/\+State/\+Tags.\+hpp\char`\"{}}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_compact_star_1_1_physics_1_1_driver_1_1_thermal_1_1_photon_cooling}{Compact\+Star\+::\+Physics\+::\+Driver\+::\+Thermal\+::\+Photon\+Cooling}}
\begin{DoxyCompactList}\small\item\em Surface photon cooling driver (redshifted frame). \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{struct_compact_star_1_1_physics_1_1_driver_1_1_thermal_1_1_photon_cooling_1_1_options}{Compact\+Star\+::\+Physics\+::\+Driver\+::\+Thermal\+::\+Photon\+Cooling\+::\+Options}}
\begin{DoxyCompactList}\small\item\em Configuration parameters for \mbox{\hyperlink{class_compact_star_1_1_physics_1_1_driver_1_1_thermal_1_1_photon_cooling}{Photon\+Cooling}}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespace_compact_star_1_1_physics}{Compact\+Star\+::\+Physics}}
\begin{DoxyCompactList}\small\item\em High-\/level physical modeling layer for compact stars. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Photon (surface) cooling driver for the thermal evolution subsystem. 

This driver contributes {\bfseries{surface photon emission}} as an energy-\/loss term in the thermal evolution equation. It is intentionally minimal and is meant to be composed with other thermal drivers (neutrino cooling, heating, etc.).\hypertarget{_photon_cooling_8hpp_autotoc_md34}{}\doxysubsubsection{Thermal variable convention}\label{_photon_cooling_8hpp_autotoc_md34}
Compact\+Star evolves a dimensionless logarithmic thermal variable\+:

\[
  y_T \equiv \ln\!\left(\frac{T_\infty}{T_{\rm ref}}\right),
\]

where (T\+\_\+\textbackslash{}infty) is a redshifted (isothermal-\/core) temperature in Kelvin. If a physical model yields (d\+T\+\_\+\textbackslash{}infty/dt), it must be converted as\+:

\[
  \frac{dy_T}{dt} = \frac{1}{T_\infty}\frac{dT_\infty}{dt}.
\]\hypertarget{_photon_cooling_8hpp_autotoc_md35}{}\doxysubsubsection{Photon luminosity at infinity}\label{_photon_cooling_8hpp_autotoc_md35}
For a static metric with (g\+\_\+\{tt\}=-\/e$^\wedge$\{2\textbackslash{}nu(r)\}), a local blackbody surface emission corresponds to\+:

\[
  L_{\gamma,\infty}
  = \mathcal{S}\;\mathcal{F}_{\rm rad}\;A_\infty\;\sigma_{\rm SB}\;T_{\rm surf}^4,
\quad
  A_\infty \equiv 4\pi R^2 e^{2\nu(R)}.
\]


\begin{DoxyItemize}
\item (T\+\_\+\{\textbackslash{}rm surf\})\+: local effective surface temperature \mbox{[}K\mbox{]}
\item (\textbackslash{}sigma\+\_\+\{\textbackslash{}rm SB\})\+: Stefan–\+Boltzmann constant
\item (A\+\_\+\textbackslash{}infty)\+: redshifted emitting area for luminosity measured at infinity
\item (\textbackslash{}mathcal\{F\}\+\_\+\{\textbackslash{}rm rad\})\+: dimensionless “radiating fraction” (hot spots, emissivity, etc.)
\item (\textbackslash{}mathcal\{S\})\+: additional dimensionless global scale (debug / knob)
\end{DoxyItemize}

The RHS contribution (in terms of the evolved variable) is\+:

\[
  \frac{dy_T}{dt}
  \mathrel{+}= - \frac{L_{\gamma,\infty}}{C_{\rm eff}\,T_\infty}.
\]

where (C\+\_\+\{\textbackslash{}rm eff\}) is an effective heat capacity \mbox{[}erg/K\mbox{]} (in cgs conventions).\hypertarget{_photon_cooling_8hpp_autotoc_md36}{}\doxysubsubsection{Envelope / blanket modeling}\label{_photon_cooling_8hpp_autotoc_md36}
Determining (T\+\_\+\{\textbackslash{}rm surf\}) from an interior temperature requires an envelope (“blanket”) prescription. In the new architecture, {\bfseries{the envelope choice and parameters live in Photon\+Cooling\+::\+Options}}, not in the global Evolution config and not in Driver\+Context.

The driver may obtain (T\+\_\+\{\textbackslash{}rm surf\}) by\+:
\begin{DoxyItemize}
\item direct use of a stored (T\+\_\+\{\textbackslash{}rm surf\}) in Thermal\+State (if provided),
\item computing (T\+\_\+\{\textbackslash{}rm surf\}) from a Tb→\+Ts envelope mapping (preferred path),
\item using a simple approximation for debugging (e.\+g., (T\+\_\+\{\textbackslash{}rm surf\}\textbackslash{}approx T\+\_\+\textbackslash{}infty)).
\end{DoxyItemize}\hypertarget{_photon_cooling_8hpp_autotoc_md37}{}\doxysubsubsection{Units policy (implementation must be consistent)}\label{_photon_cooling_8hpp_autotoc_md37}
This header documents intended units; the implementation must honor them.


\begin{DoxyItemize}
\item Temperatures\+: Kelvin \mbox{[}K\mbox{]}
\item Luminosity\+: erg/s
\item Heat capacity (C\+\_\+\{\textbackslash{}rm eff\})\+: erg/K
\item If (\textbackslash{}sigma\+\_\+\{\textbackslash{}rm SB\}) is cgs\+: (\textbackslash{}sigma\+\_\+\{\textbackslash{}rm SB\}\textbackslash{}approx 5.\+670374419\textbackslash{}times 10$^\wedge$\{-\/5\}\textbackslash{},\{\textbackslash{}rm erg\textbackslash{},cm$^\wedge$\{-\/2\}\textbackslash{},s$^\wedge$\{-\/1\}\textbackslash{},K$^\wedge$\{-\/4\}\}), then (A\+\_\+\textbackslash{}infty) must be in cm².
\end{DoxyItemize}

Compact\+Star profiles commonly store radius in km; the implementation must convert (R\+\_\+\{\textbackslash{}rm km\}\textbackslash{}to R\+\_\+\{\textbackslash{}rm cm\}) before forming areas when using cgs.\hypertarget{_photon_cooling_8hpp_autotoc_md38}{}\doxysubsubsection{Context usage}\label{_photon_cooling_8hpp_autotoc_md38}

\begin{DoxyItemize}
\item {\ttfamily ctx.\+geo} is the preferred source for (R) and (e$^\wedge$\{2\textbackslash{}nu(R)\}) (via cached geometry).
\item {\ttfamily ctx.\+star} may be used to compute surface gravity (g\+\_\+\{14\}) for envelope fits.
\item This driver does {\bfseries{not}} require {\ttfamily ctx.\+envelope}; envelope policy is internal to Options. 
\end{DoxyItemize}