\hypertarget{class_compact_star_1_1_physics_1_1_evolution_1_1_evolution_system}{}\doxysection{Compact\+Star\+::Physics\+::Evolution\+::Evolution\+System Class Reference}
\label{class_compact_star_1_1_physics_1_1_evolution_1_1_evolution_system}\index{CompactStar::Physics::Evolution::EvolutionSystem@{CompactStar::Physics::Evolution::EvolutionSystem}}


GSL-\/compatible RHS functor (interfaces only in Phase 0).  




{\ttfamily \#include $<$Evolution\+System.\+hpp$>$}

\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_compact_star_1_1_physics_1_1_evolution_1_1_evolution_system_1_1_context}{Context}}
\begin{DoxyCompactList}\small\item\em Bundles read-\/only references to the model components. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_compact_star_1_1_physics_1_1_evolution_1_1_evolution_system_a2ac42b526a3d6817ced76229f5db5896}{Evolution\+System}} (const \mbox{\hyperlink{struct_compact_star_1_1_physics_1_1_evolution_1_1_evolution_system_1_1_context}{Context}} \&ctx, \mbox{\hyperlink{class_compact_star_1_1_physics_1_1_evolution_1_1_state_vector}{State\+Vector}} \&state, \mbox{\hyperlink{class_compact_star_1_1_physics_1_1_evolution_1_1_r_h_s_accumulator}{RHSAccumulator}} \&rhs)
\begin{DoxyCompactList}\small\item\em Construct with a fully-\/populated \mbox{\hyperlink{struct_compact_star_1_1_physics_1_1_evolution_1_1_evolution_system_1_1_context}{Context}}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_compact_star_1_1_physics_1_1_evolution_1_1_evolution_system_a9e015fdf5586e8361e7f404a7e58ed0b}{operator()}} (double t, const double y\mbox{[}$\,$\mbox{]}, double dydt\mbox{[}$\,$\mbox{]}) const
\begin{DoxyCompactList}\small\item\em Evaluate RHS $\dot{y} = f(t,y)$. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
GSL-\/compatible RHS functor (interfaces only in Phase 0). 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_compact_star_1_1_physics_1_1_evolution_1_1_evolution_system_a2ac42b526a3d6817ced76229f5db5896}\label{class_compact_star_1_1_physics_1_1_evolution_1_1_evolution_system_a2ac42b526a3d6817ced76229f5db5896}} 
\index{CompactStar::Physics::Evolution::EvolutionSystem@{CompactStar::Physics::Evolution::EvolutionSystem}!EvolutionSystem@{EvolutionSystem}}
\index{EvolutionSystem@{EvolutionSystem}!CompactStar::Physics::Evolution::EvolutionSystem@{CompactStar::Physics::Evolution::EvolutionSystem}}
\doxysubsubsection{\texorpdfstring{EvolutionSystem()}{EvolutionSystem()}}
{\footnotesize\ttfamily Compact\+Star\+::\+Chemical\+Heating\+::\+Evolution\+System\+::\+Evolution\+System (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_compact_star_1_1_physics_1_1_evolution_1_1_evolution_system_1_1_context}{Context}} \&}]{ctx,  }\item[{\mbox{\hyperlink{class_compact_star_1_1_physics_1_1_evolution_1_1_state_vector}{State\+Vector}} \&}]{state,  }\item[{\mbox{\hyperlink{class_compact_star_1_1_physics_1_1_evolution_1_1_r_h_s_accumulator}{RHSAccumulator}} \&}]{rhs }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Construct with a fully-\/populated \mbox{\hyperlink{struct_compact_star_1_1_physics_1_1_evolution_1_1_evolution_system_1_1_context}{Context}}. 

Construct the RHS functor with a static model context and references to the dynamic state / RHS helpers.


\begin{DoxyParams}{Parameters}
{\em ctx} & Static model context (star structure, geometry, envelope, config). \\
\hline
{\em state} & Non-\/owning reference to the current \mbox{\hyperlink{class_compact_star_1_1_physics_1_1_evolution_1_1_state_vector}{State\+Vector}} (how we interpret the flat y\mbox{[}\mbox{]} array). \\
\hline
{\em rhs} & Non-\/owning reference to an \mbox{\hyperlink{class_compact_star_1_1_physics_1_1_evolution_1_1_r_h_s_accumulator}{RHSAccumulator}} used as scratch storage for d\+Y/dt contributions.\\
\hline
\end{DoxyParams}
Ownership / lifetime\+:
\begin{DoxyItemize}
\item The \mbox{\hyperlink{class_compact_star_1_1_physics_1_1_evolution_1_1_evolution_system}{Evolution\+System}} stores the {\ttfamily ctx} by value (pointers inside it must remain valid for the lifetime of the \mbox{\hyperlink{class_compact_star_1_1_physics_1_1_evolution_1_1_evolution_system}{Evolution\+System}}).
\item {\ttfamily state} and {\ttfamily rhs} are stored as references; the caller is responsible for ensuring they outlive the \mbox{\hyperlink{class_compact_star_1_1_physics_1_1_evolution_1_1_evolution_system}{Evolution\+System}}.
\end{DoxyItemize}

At this stage (Phase 0 / scaffolding), we only perform basic validation of the context pointers and store the references. The actual physics will be implemented once the driver / rate infrastructure is in place. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_compact_star_1_1_physics_1_1_evolution_1_1_evolution_system_a9e015fdf5586e8361e7f404a7e58ed0b}\label{class_compact_star_1_1_physics_1_1_evolution_1_1_evolution_system_a9e015fdf5586e8361e7f404a7e58ed0b}} 
\index{CompactStar::Physics::Evolution::EvolutionSystem@{CompactStar::Physics::Evolution::EvolutionSystem}!operator()@{operator()}}
\index{operator()@{operator()}!CompactStar::Physics::Evolution::EvolutionSystem@{CompactStar::Physics::Evolution::EvolutionSystem}}
\doxysubsubsection{\texorpdfstring{operator()()}{operator()()}}
{\footnotesize\ttfamily int Compact\+Star\+::\+Chemical\+Heating\+::\+Evolution\+System\+::operator() (\begin{DoxyParamCaption}\item[{double}]{t,  }\item[{const double}]{y\mbox{[}$\,$\mbox{]},  }\item[{double}]{dydt\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption}) const}



Evaluate RHS $\dot{y} = f(t,y)$. 

Signature mirrors GSL callbacks (no includes here). Implementation will\+: 1) convert $T^\infty \to T(r)$ via redshift, 2) assemble integrals for

This method is designed to be wrapped by a GSL ODE driver. Its signature mirrors the usual callback\+:


\begin{DoxyItemize}
\item {\ttfamily t} is the current time (s),
\item {\ttfamily y} is the current state vector (flat array),
\item {\ttfamily dydt} is where the derivatives are written.
\end{DoxyItemize}

In the {\itshape final} implementation, the steps will roughly be\+:


\begin{DoxyEnumerate}
\item Decode {\ttfamily y} into the sub-\/states via \mbox{\hyperlink{class_compact_star_1_1_physics_1_1_evolution_1_1_state_vector}{State\+Vector}} (Spin/\+Thermal/\+Chem/\+BNV,…).
\item Use \mbox{\hyperlink{class_compact_star_1_1_physics_1_1_evolution_1_1_geometry_cache}{Geometry\+Cache}} and \mbox{\hyperlink{class_compact_star_1_1_physics_1_1_evolution_1_1_star_context}{Star\+Context}} to build any per-\/call radial quantities (e.\+g., redshifted temperatures).
\item Clear \mbox{\hyperlink{class_compact_star_1_1_physics_1_1_evolution_1_1_r_h_s_accumulator}{RHSAccumulator}} and let each driver accumulate its contribution to the appropriate tagged block (thermal, chem, spin…).
\item Project the accumulated RHS back into the flat {\ttfamily dydt} array in the same layout used by the integrator.
\end{DoxyEnumerate}

For the current Phase 0, we provide a safe, minimal implementation that\+:
\begin{DoxyItemize}
\item computes the expected size of the state vector from \mbox{\hyperlink{struct_compact_star_1_1_physics_1_1_evolution_1_1_config}{Config}},
\item zeroes out {\ttfamily dydt} (no evolution),
\item leaves detailed physics as a TODO.
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em t} & Time (s). \\
\hline
{\em y} & \mbox{\hyperlink{namespace_compact_star_1_1_physics_1_1_state}{State}} array (size = 1 + n\+\_\+eta + \mbox{[}Omega\mbox{]} depending on \mbox{\hyperlink{struct_compact_star_1_1_physics_1_1_evolution_1_1_config}{Config}}). \\
\hline
{\em dydt} & Output derivatives (same size as {\ttfamily y}).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if success; nonzero on failure (consistent with GSL conventions). 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Compact\+Star/\+Physics/\+Evolution/\mbox{\hyperlink{_evolution_system_8hpp}{Evolution\+System.\+hpp}}\item 
Compact\+Star/\+Physics/\+Evolution/src/\mbox{\hyperlink{_evolution_system_8cpp}{Evolution\+System.\+cpp}}\item 
Compact\+Star/\+Physics/\+Evolution/src/System\+\_\+old.\+cpp\end{DoxyCompactItemize}
